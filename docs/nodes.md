# Nodes

There are several nodes than can be used to communicate with your devices.

#### Devices node
Using this node you can retrieve all the devices attached to your account.

Result example:
```json
[
    {
        "_id": "5df2cbda08eb57bea4d6c70f",
        "name": "Kitchen Lamp"
        "type": "10",
        "deviceid: "12345678",
        ...
    },
    ...
]
```

#### Device node (generic)
You can communicate with your devices using RPC-like syntax.
The input payload should look like:
```json
{
    "method": "<method name>",
    "params": [<params>],
}
```

Simple example to turn on a **Sonoff Basic** relay:
```json
{
    "method": "setDevicePowerState",
    "params": ["on"]
}
```

#### Firmware node
Returns the current firmware version of a device.

Result example:
```json
{
    "status": "ok",
    "fwVersion": "1.6.0"
}
```

#### Power state node (in)
Reads the current power state of a single channel device.

Result example:
```json
{
    "status": "ok",
    "state": "on"
}
```

#### Power state node (out)
Sets the power state of a single channel device. The payload can be any of the following strings:
* on
* off
* toggle

Result example:
```json
{
    "status": "ok",
    "state": "on"
}
```

#### Channels node
Returns the number of the channels for the device.

Result example:
```json
{
    "status": "ok",
    "switchesAmount": 1
}
```

#### Event listener node
Listens to events of a devices. When a change occures it will return the event.
By default it listens for events generated by all the devices, but you can specify a single device ID to listen on.

Result example:
```json
{
    "action": "update",
    "deviceid": "12345678",
    "params": {
        switch: "on"
    }
}
```

#### Power usage node
Returns the current month power usage on the device.

#### Humidity node
Returns the humidity value from the sensor connected to the device.

Result example:
```json
{
    "status": "ok",
    "humidity": "40.15"
}
```

#### Temperature node
Returns the temperature value from the sensor connected to the device.

Result example:
```json
{
    "status": "ok",
    "temperature": "21.79"
}
```

#### Temperature and humidity node
Returns the temperature and humidity value from the sensor connected to the device.

Result example:
```json
{
    "status": "ok",
    "temperature": "21.79",
    "humidity": "40.15"
}
```

[Go to the configuration →](configuration.md)

[← Go back to the installation](installation.md)
